{"is_source_file": true, "format": "Dart", "description": "This Dart file defines a ChatProvider class that manages chat messages and conversation states in a Flutter application. It interacts with a chat repository to load message history, subscribe to real-time updates, and send new messages. The provider uses ChangeNotifier to update UI components on data changes.", "external_files": ["../models/message.dart", "../networking/firebase_api.dart", "../repositories/chat_repository.dart"], "external_methods": ["ChatRepository.loadHistory", "ChatRepository.subscribeConversation", "ChatRepository.send", "ChatMessage.copyWith"], "published": ["messages", "conversationId"], "classes": [{"name": "ChatProvider", "description": "A provider class managing chat messages, conversation IDs, and interaction with chat repository for loading, subscribing, and sending messages."}], "methods": [{"name": "ChatProvider", "description": "Constructor initializing the chat repository and starting the bootstrap process."}, {"name": "conversationId", "description": "Generates a unique conversation ID based on the user IDs, sorted alphabetically."}, {"name": "_bootstrap", "description": "Loads message history and sets up real-time subscription to conversation updates."}, {"name": "sendMessage", "description": "Creates and sends a new chat message; updates local message list and notifies listeners."}], "calls": ["ChatRepository.loadHistory", "ChatRepository.subscribeConversation", "ChatRepository.send", "notifyListeners"], "search-terms": ["ChatProvider", "message history", "subscribeConversation", "sendMessage", "conversationId", "ChangeNotifier"], "state": 2, "file_id": 29, "knowledge_revision": 61, "git_revision": "", "hash": "1b7eaa5d46a56ccfa71e33795c6872d2", "format-version": 4, "code-base-name": "event_manager_frontend", "filename": "event_manager_frontend/lib/src/providers/chat_provider.dart", "revision_history": [{"61": ""}]}